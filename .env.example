# ============================================
# ResearchFlow Docker Compose 环境变量配置
# ============================================
# 使用方法：
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 编辑 .env 文件，配置必要的环境变量
# 3. 特别注意：生产环境必须修改所有默认密码和密钥
# ============================================

# ============================================
# 端口配置（所有对外暴露的端口都可配置）
# ============================================
# 这些端口在 docker-compose.yml 中使用，格式：${ENV_VAR:-默认值}
# 修改这些值后，需要重启 Docker Compose 服务

# PostgreSQL 数据库端口（默认: 5432）
POSTGRES_PORT=5432

# Backend API 端口（默认: 8000）
# 用于直接访问后端 API，如：http://localhost:8000/docs
BACKEND_PORT=8000

# Frontend 前端端口（默认: 3000）
# 用户前端访问端口，如：http://localhost:3000
FRONTEND_PORT=3000

# Admin Frontend 管理员前端端口（默认: 3001）
# 管理员前端访问端口，如：http://localhost:3001
ADMIN_FRONTEND_PORT=3001

# ============================================
# 输出目录配置
# ============================================
# 输出目录挂载路径（相对于 docker-compose.yml 的路径，或使用绝对路径）
# 默认: ./output
# 示例:
#   - 相对路径: ./output
#   - 绝对路径: /data/researchflow/output
#   - Windows 路径: E:/data/output
OUTPUT_DIR=./output

# ============================================
# 数据库配置
# ============================================
POSTGRES_USER=postgres_academic_workflow
POSTGRES_PASSWORD=postgres_academic_workflow
POSTGRES_DB=academic_workflow
# 注意：POSTGRES_HOST 和 POSTGRES_PORT 在容器内使用固定值
# POSTGRES_HOST=postgres (Docker 服务名，不要修改)
# POSTGRES_PORT=5432 (容器内端口，不要修改)

# ============================================
# Backend 配置
# ============================================

# OpenAI 配置
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_API_BASE=
OPENAI_MODEL=gpt-4
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_TOKENS=2000

# Anthropic 配置（可选）
ANTHROPIC_API_KEY=
ANTHROPIC_API_BASE=
ANTHROPIC_MODEL=claude-sonnet-4-20250514
ANTHROPIC_TEMPERATURE=0.7
ANTHROPIC_MAX_TOKENS=4096

# 服务器配置
HOST=0.0.0.0
PORT=8000
DEBUG=false
LOG_LEVEL=INFO

# JWT 认证配置
# ⚠️ 生产环境必须修改 SECRET_KEY，使用强随机字符串
SECRET_KEY=your-secret-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=10080

# 超级管理员配置
# ⚠️ 生产环境必须修改 SUPER_ADMIN_PASSWORD
SUPER_ADMIN_USERNAME=admin
SUPER_ADMIN_PASSWORD=admin123

# 文件输出配置（容器内路径，不要修改）
# OUTPUT_DIR=/app/output

# ============================================
# Frontend 配置
# ============================================
# 前端 API 地址
# 默认值 /api/v1 表示使用相对路径，通过 Nginx 代理到后端
# 如果前端和后端不在同一域名，可以设置为完整 URL
# 示例: VITE_API_BASE_URL=http://api.your-domain.com:8000/api/v1
VITE_API_BASE_URL=/api/v1

# ============================================
# Admin Frontend 配置
# ============================================
# 管理员前端 API 地址（配置同上）
# VITE_API_BASE_URL=/api/v1
